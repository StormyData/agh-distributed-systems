//
// Copyright (c) ZeroC, Inc. All rights reserved.
//
//
// Ice version 3.7.9
//
// <auto-generated>
//
// Generated from file `example.ice'
//
// Warning: do not edit this file.
//
// </auto-generated>
//

package Example;

public class ClassWithOptionalField extends com.zeroc.Ice.Value
{
    public ClassWithOptionalField()
    {
    }

    public ClassWithOptionalField(int required)
    {
        this.required = required;
    }

    public ClassWithOptionalField(int optionalField, int required)
    {
        setOptionalField(optionalField);
        this.required = required;
    }

    private int optionalField;
    private boolean _optionalField;

    public int getOptionalField()
    {
        if(!_optionalField)
        {
            throw new java.util.NoSuchElementException("optionalField is not set");
        }
        return optionalField;
    }

    public void setOptionalField(int optionalField)
    {
        _optionalField = true;
        this.optionalField = optionalField;
    }

    public boolean hasOptionalField()
    {
        return _optionalField;
    }

    public void clearOptionalField()
    {
        _optionalField = false;
    }

    public void optionalOptionalField(java.util.OptionalInt v)
    {
        if(v == null || !v.isPresent())
        {
            _optionalField = false;
        }
        else
        {
            _optionalField = true;
            optionalField = v.getAsInt();
        }
    }

    public java.util.OptionalInt optionalOptionalField()
    {
        if(_optionalField)
        {
            return java.util.OptionalInt.of(optionalField);
        }
        else
        {
            return java.util.OptionalInt.empty();
        }
    }

    public int required;

    public ClassWithOptionalField clone()
    {
        return (ClassWithOptionalField)super.clone();
    }

    public static String ice_staticId()
    {
        return "::Example::ClassWithOptionalField";
    }

    @Override
    public String ice_id()
    {
        return ice_staticId();
    }

    /** @hidden */
    public static final long serialVersionUID = 8681958772017753564L;

    /** @hidden */
    @Override
    protected void _iceWriteImpl(com.zeroc.Ice.OutputStream ostr_)
    {
        ostr_.startSlice(ice_staticId(), -1, true);
        ostr_.writeInt(required);
        if(_optionalField)
        {
            ostr_.writeInt(1, optionalField);
        }
        ostr_.endSlice();
    }

    /** @hidden */
    @Override
    protected void _iceReadImpl(com.zeroc.Ice.InputStream istr_)
    {
        istr_.startSlice();
        required = istr_.readInt();
        if(_optionalField = istr_.readOptional(1, com.zeroc.Ice.OptionalFormat.F4))
        {
            optionalField = istr_.readInt();
        }
        istr_.endSlice();
    }
}
